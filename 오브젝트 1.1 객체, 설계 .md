# 오브젝트

<img width="919" alt="스크린샷 2023-09-02 오후 12 44 46" src="https://github.com/JongMinCh0i/books/assets/80812697/e3dbf9e7-121f-42f7-8924-5f8fed080c15">
------

### 무엇이 문제인가

Theater 클래스의 enter 메서드는 Audience, Bag, TicketOffice, Ticket 까지 여러 클래스에게 의존적인 상태에 놓여있다. 다시말해 
Theater 클래스가 직접 관람객의 가방을 확인해서 초대장의 유무를 확인하고 확인 결과에 따라 TicketOffice에서 Ticket을 판매하고 티켓 금액만큼을 매표소에 적립하거나, 
초대장에 따라서 티켓을 고객의 가방에 넣어 줄 수 있는 상황이다. 

현재 enter 메서드가 일상적인 상황에서 발생할 수 있는 예상가능한 상태인가? 

누군가 나의 가방을 직접확인하여 돈을 꺼내서 저장하거나, 티켓을 넣어주는 상황이 일상 속에서 쉽게 겪을 수 있는 
상황은 아니다. 즉 위 Theater의 enter 메서드가 초래하는 결과는 우리의 예상에서 크게 벗어나고 있다. 

이로 인해 현재 설계에서는 **2가지 단점**이 발생한다. 

**1. 의사소통의 문제**

일상 속에서 쉽게 겪을 수 없는, 즉 예상을 벗어나는 코드가 우리의 상식과는 너무나도 다르게 동작하기 때문에 코드를 읽는 사람과 제대로 의사소통할 수 없을 것이다. 

**2. 하나의 클래스가 지나치게 너무 많은 세부사항을 담당하고 있다.**

Theater의 enter 메서드를 다시 보면 여러가지 세부적인 내용들에 걸쳐 객체간의 메시지를 전달하고 있다.
청중이 가방을 갖고 있다는 것을 알아야하며, 티켓 혹은 현금이 가방안에 존재하며, 티켓 오피스에서는 현금을 티켓으로 바꿔주거나 초대권을 티켓으로 바꿔주는 역활을 한다는 것 까지 알고 있어야 비로소 enter 메서드를 사용할 수 있는데 이는 큰 부담으로 다가올 수 있다. 

하지만 가장 큰 문제점은 Audience나 TicketSeller의 요구사항에 변경이 발생한다면 변경 사항의 연쇄적인 전파가 객체간 지나치게 많은 의존성을 맺고 있는 Theater에게 되돌아온다는 점이다. 

**즉 변경에 취약한 코드가 만들어진 것이다.** 
